{% extends "base.html" %}

{% block title %}Home - Jubair Boot House Elite Collection{% endblock %}

{% block content %}
<!-- Enhanced Hero Section - Hidden for Admin Users -->
<section class="hero-section position-relative overflow-hidden" id="heroSection" style="display: none;">
    <!-- Animated Background Pattern -->
    <div class="hero-bg-pattern"></div>
    
    <!-- Floating Geometric Shapes -->
    <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
        <div class="shape shape-5"></div>
    </div>
    
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                <div class="hero-content text-white">
                    <h1 class="display-3 fw-bold mb-4 hero-title">
                        <span class="text-accent">Elite</span> Footwear
                        <br>for Every Style
                    </h1>
                    <p class="lead mb-4 hero-subtitle">
                        Discover the perfect blend of comfort, style, and quality. 
                        From casual kicks to formal elegance, we've got your feet covered with elite craftsmanship.
                    </p>
                    <div class="hero-buttons d-flex flex-wrap gap-3">
                        <a href="/products/" class="btn btn-warning btn-lg px-5 py-3 hero-btn">
                            <i class="fas fa-store me-2"></i>Visit Showroom
                        </a>
                        <a href="#categories" class="btn btn-outline-light btn-lg px-4 py-3 hero-btn-outline">
                            <i class="fas fa-th-large me-2"></i>Explore Categories
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image-container position-relative">
                    <!-- Main Hero Image -->
                    <div class="hero-image-wrapper">
                        <img src="https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" 
                             alt="Premium Footwear Collection" 
                             class="hero-main-image">
                        
                        <!-- Image Glow Effect -->
                        <div class="image-glow"></div>
                    </div>
                    
                    <!-- Decorative Elements -->
                    <div class="decorative-elements">
                        <div class="deco-circle deco-circle-1"></div>
                        <div class="deco-circle deco-circle-2"></div>
                        <div class="deco-line deco-line-1"></div>
                        <div class="deco-line deco-line-2"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<!-- Admin Dashboard Section - Shown only for Admin Users -->
<section class="section-padding bg-light" id="adminDashboardSection" style="display: none;">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-5 fw-bold text-primary mb-3">Admin Control Center</h2>
                <p class="lead text-muted">Quick access to all administrative functions</p>
                <div class="title-underline mx-auto"></div>
                <div class="mt-3">
                    <a href="/products/admin/analytics" class="btn btn-outline-primary">
                        <i class="fas fa-chart-line me-2"></i>Product Insights
                    </a>
                </div>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-md-4">
                <div class="admin-card hover-lift text-center p-4">
                    <div class="admin-icon mb-4">
                        <i class="fas fa-box fa-3x text-primary"></i>
                    </div>
                    <h5 class="mb-3">Product Management</h5>
                    <p class="text-muted mb-3">Add, edit, and manage your product inventory</p>
                    <a href="/products/admin/dashboard" class="btn btn-primary">Manage Products</a>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="admin-card hover-lift text-center p-4">
                    <div class="admin-icon mb-4">
                        <i class="fas fa-comments fa-3x text-success"></i>
                    </div>
                    <h5 class="mb-3">Customer Feedback</h5>
                    <p class="text-muted mb-3">View and respond to customer feedback</p>
                    <a href="/admin/feedback" class="btn btn-success">View Feedback</a>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="admin-card hover-lift text-center p-4">
                    <div class="admin-icon mb-4">
                        <i class="fas fa-users fa-3x text-info"></i>
                    </div>
                    <h5 class="mb-3">User Management</h5>
                    <p class="text-muted mb-3">Manage registered users and their accounts</p>
                    <a href="/admin/users" class="btn btn-info">Manage Users</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Categories Section - Shown by default, hidden for Admin Users -->
<section id="categories" class="section-padding bg-pattern" id="categoriesSection">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 id="categoriesTitle" class="display-4 fw-bold text-primary mb-3">Shop by Category</h2>
                <p class="lead text-muted">Find your perfect style in our diverse collection</p>
                <div class="title-underline mx-auto"></div>
            </div>
        </div>
        
        <div class="row g-4">
            <!-- Sports -->
            <div class="col-md-4 col-lg-2">
                <a href="/products/?category=Sports" class="category-link">
                    <div class="category-card hover-lift category-card-equal">
                        <div class="category-icon mb-3">
                            <i class="fas fa-dumbbell fa-3x"></i>
                        </div>
                        <h5>Sports</h5>
                        <p class="text-muted small">Performance & Comfort</p>
                        <div class="category-hover-effect">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </a>
            </div>
            
            <!-- Casual -->
            <div class="col-md-4 col-lg-2">
                <a href="/products/?category=Casual" class="category-link">
                    <div class="category-card hover-lift category-card-equal">
                        <div class="category-icon mb-3">
                            <i class="fas fa-home fa-3x"></i>
                        </div>
                        <h5>Casual</h5>
                        <p class="text-muted small">Everyday Comfort</p>
                        <div class="category-hover-effect">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </a>
            </div>
            
            <!-- Formal -->
            <div class="col-md-4 col-lg-2">
                <a href="/products/?category=Formal" class="category-link">
                    <div class="category-card hover-lift category-card-equal">
                        <div class="category-icon mb-3">
                            <i class="fas fa-user-tie fa-3x"></i>
                        </div>
                        <h5>Formal</h5>
                        <p class="text-muted small">Professional Look</p>
                        <div class="category-hover-effect">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </a>
            </div>
            
            <!-- Boots -->
            <div class="col-md-4 col-lg-2">
                <a href="/products/?category=Boots" class="category-link">
                    <div class="category-card hover-lift category-card-equal">
                        <div class="category-icon mb-3">
                            <i class="fas fa-boot fa-3x"></i>
                        </div>
                        <h5>Boots</h5>
                        <p class="text-muted small">Durable & Stylish</p>
                        <div class="category-hover-effect">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </a>
            </div>
            
            <!-- Sneakers -->
            <div class="col-md-4 col-lg-2">
                <a href="/products/?category=Sneakers" class="category-link">
                    <div class="category-card hover-lift category-card-equal">
                        <div class="category-icon mb-3">
                            <i class="fas fa-running fa-3x"></i>
                        </div>
                        <h5>Sneakers</h5>
                        <p class="text-muted small">Urban Style</p>
                        <div class="category-hover-effect">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </a>
            </div>
            
            <!-- Sandals -->
            <div class="col-md-4 col-lg-2">
                <a href="/products/?category=Sandals" class="category-link">
                    <div class="category-card hover-lift category-card-equal">
                        <div class="category-icon mb-3">
                            <i class="fas fa-sandal fa-3x"></i>
                        </div>
                        <h5>Sandals</h5>
                        <p class="text-muted small">Summer Comfort</p>
                        <div class="category-hover-effect">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Features Section - Hidden for Admin Users -->
<section class="section-padding bg-light" id="featuresSection">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-5 fw-bold text-primary mb-3">Why Choose Us?</h2>
                <p class="lead text-muted">We're committed to providing the best shopping experience</p>
                <div class="title-underline mx-auto"></div>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card hover-lift text-center">
                    <div class="feature-icon mb-4">
                        <i class="fas fa-star fa-3x"></i>
                    </div>
                    <h5 class="mb-3">New Arrivals</h5>
                    <p class="text-muted mb-0">Check out the latest styles freshly added to our store</p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="feature-card hover-lift text-center">
                    <div class="feature-icon mb-4">
                        <i class="fas fa-medal fa-3x"></i>
                    </div>
                    <h5 class="mb-3">Quality Assured</h5>
                    <p class="text-muted mb-0">Premium materials and expert craftsmanship in every product</p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="feature-card hover-lift text-center">
                    <div class="feature-icon mb-4">
                        <i class="fas fa-exchange-alt fa-3x"></i>
                    </div>
                    <h5 class="mb-3">Easy Exchanges</h5>
                    <p class="text-muted mb-0">7-day return policy with hassle-free exchanges at our showroom</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Call to Action - Hidden for Admin Users -->
<section class="cta-section section-padding text-white" id="ctaSection">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <div class="cta-content">
                    <h2 class="display-4 fw-bold mb-4">Ready to Find Your Perfect Fit?</h2>
                    <p class="lead mb-5 opacity-90">Visit our showroom to explore our extensive collection and discover footwear that matches your style and comfort needs. Experience the difference firsthand.</p>
                    <div class="cta-buttons">
                        <a href="/products/" class="btn btn-warning btn-lg px-5 py-3 me-3 mb-2">
                            <i class="fas fa-store me-2"></i>Visit Showroom
                        </a>
                        <a href="#categories" class="btn btn-outline-light btn-lg px-5 py-3 mb-2">
                            <i class="fas fa-th-large me-2"></i>View Categories
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- New: Testimonials Section - Hidden for Admin Users -->
<section class="section-padding bg-white" id="testimonialsSection">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-5 fw-bold text-primary mb-3">What Our Customers Say</h2>
                <p class="lead text-muted">Real feedback from satisfied customers</p>
                <div class="title-underline mx-auto"></div>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-md-4">
                <div class="testimonial-card text-center p-4">
                    <div class="testimonial-avatar mb-3">
                        <i class="fas fa-user-circle fa-3x text-primary"></i>
                    </div>
                    <p class="text-muted mb-3">"Amazing quality shoes! The comfort level is incredible and they look exactly as advertised."</p>
                    <h6 class="fw-bold text-primary mb-1">Mo Asad</h6>
                    <small class="text-muted">Regular Customer</small>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="testimonial-card text-center p-4">
                    <div class="testimonial-avatar mb-3">
                        <i class="fas fa-user-circle fa-3x text-primary"></i>
                    </div>
                    <p class="text-muted mb-3">"Excellent customer service at the showroom. The shoes fit perfectly and are very comfortable."</p>
                    <h6 class="fw-bold text-primary mb-1">Abu Talha</h6>
                    <small class="text-muted">First-time Buyer</small>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="testimonial-card text-center p-4">
                    <div class="testimonial-avatar mb-3">
                        <i class="fas fa-user-circle fa-3x text-primary"></i>
                    </div>
                    <p class="text-muted mb-3">"Best footwear store I've found. Great prices and the quality is outstanding!"</p>
                    <h6 class="fw-bold text-primary mb-1">Rishu Yadav</h6>
                    <small class="text-muted">Loyal Customer</small>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- New: Newsletter Section - Hidden for Admin Users -->
<section class="section-padding-sm bg-light" id="newsletterSection" style="display: none;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 text-center">
                <h3 class="fw-bold text-primary mb-3">Stay Updated</h3>
                <p class="text-muted mb-4">Subscribe to our newsletter for exclusive offers and new arrivals</p>
                <form class="newsletter-form d-flex gap-2">
                    <input type="email" class="form-control" placeholder="Enter your email address" required>
                    <button type="submit" class="btn btn-primary px-4">Subscribe</button>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// Control visibility of sections based on admin status
document.addEventListener('DOMContentLoaded', function() {
    // Immediately show customer interface as default
    showCustomerInterface();
    
    // Wait for session manager to initialize
    setTimeout(() => {
        if (window.sessionManager && window.sessionManager.isInitialized) {
            updatePageVisibility();
        } else {
            // If session manager not ready, wait a bit more
            setTimeout(updatePageVisibility, 500);
        }
    }, 100);
    
    function updatePageVisibility() {
        const sessionManager = window.sessionManager;
        if (!sessionManager) {
            // If session manager not available, show default customer interface
            showCustomerInterface();
            return;
        }
        
        const isAdmin = sessionManager.getUserType() === 'admin';
        const isLoggedIn = sessionManager.isLoggedIn();
        
        console.log('Updating page visibility - isAdmin:', isAdmin, 'isLoggedIn:', isLoggedIn);
        
        if (isAdmin && isLoggedIn) {
            // Show admin interface, hide customer sections
            showAdminInterface();
        } else {
            // Show customer interface for regular users and non-logged in users
            showCustomerInterface();
        }
    }
    
    function showCustomerInterface() {
        console.log('Showing customer interface');
        // Get DOM elements
        const heroSection = document.getElementById('heroSection');
        const adminDashboardSection = document.getElementById('adminDashboardSection');
        const categoriesSection = document.getElementById('categoriesSection');
        const featuresSection = document.getElementById('featuresSection');
        const ctaSection = document.getElementById('ctaSection');
        const testimonialsSection = document.getElementById('testimonialsSection');
        const newsletterSection = document.getElementById('newsletterSection');
        
        // Show customer interface
        if (heroSection) heroSection.style.display = 'block';
        if (adminDashboardSection) adminDashboardSection.style.display = 'none';
        if (categoriesSection) categoriesSection.style.display = 'block';
        if (featuresSection) featuresSection.style.display = 'block';
        if (ctaSection) ctaSection.style.display = 'block';
        if (testimonialsSection) testimonialsSection.style.display = 'block';
        if (newsletterSection) newsletterSection.style.display = 'block';
        
        // Remove admin-specific styling
        document.body.classList.remove('admin-mode');
    }
    
    function showAdminInterface() {
        console.log('Showing admin interface');
        // Get DOM elements
        const heroSection = document.getElementById('heroSection');
        const adminDashboardSection = document.getElementById('adminDashboardSection');
        const categoriesSection = document.getElementById('categoriesSection');
        const categoriesTitle = document.getElementById('categoriesTitle');
        const featuresSection = document.getElementById('featuresSection');
        const ctaSection = document.getElementById('ctaSection');
        const testimonialsSection = document.getElementById('testimonialsSection');
        const newsletterSection = document.getElementById('newsletterSection');
        
        // Show admin interface, keep categories visible for admin, update title
        if (heroSection) heroSection.style.display = 'none';
        if (adminDashboardSection) adminDashboardSection.style.display = 'block';
        if (categoriesSection) categoriesSection.style.display = 'block';
        if (categoriesTitle) categoriesTitle.textContent = 'Show by Category';
        if (featuresSection) featuresSection.style.display = 'none';
        if (ctaSection) ctaSection.style.display = 'none';
        if (testimonialsSection) testimonialsSection.style.display = 'none';
        if (newsletterSection) newsletterSection.style.display = 'none';
        
        // Add admin-specific styling
        document.body.classList.add('admin-mode');
    }
    
    // Listen for session changes
    if (window.sessionManager) {
        // Override the updateHeader method to also update page visibility
        const originalUpdateHeader = window.sessionManager.updateHeader;
        window.sessionManager.updateHeader = function() {
            originalUpdateHeader.call(this);
            updatePageVisibility();
        };
    }
});
</script>
{% endblock %}
